# Определения

* [Блок](#Блок)
* [Элемент](#Элемент)
* [Модификатор](#Модификатор)
* [БЭМ-сущность](#БЭМ-сущность)
* [Микс](#Микс)
* [БЭМ-узел](#БЭМ-узел)
* [БЭМ-дерево](#БЭМ-дерево)
* [Реализация БЭМ-сущности](#Реализация-БЭМ-сущности)
* [Технология реализации](#Технология-реализации)
* [Переопределение БЭМ-сущности](#Переопределение-БЭМ-сущности)
* [Уровень переопределения](#Уровень-переопределения)

## Блок

Логически и функционально независимый компонент страницы, аналог компонента в Web Components. Блок инкапсулирует в себе поведение (JavaScript), шаблоны, стили (CSS) и другие [технологии реализации](#Технология-реализации). Независимость блоков обеспечивает возможность их повторного использования, а также удобство в [разработке и поддержке проекта](../solved-problems/solved-problems.ru.md).

### Возможности блоков

#### Вложенная структура

Блоки могут быть вложены в любые другие блоки.

Например, блок `head` может включать логотип (`logo`), форму поиска (`search`) и блок авторизации (`auth`).

![Составляющие блока Шапка](key-concepts__head_marked.png)

#### Свободное перемещение

Блоки можно перемещать в пределах одной страницы, разных страниц или проектов. Независимая реализация блока позволяет изменять его положение на странице и обеспечивает корректную работу и внешний вид.

Так, например, логотип и форму авторизации можно поменять местами. При этом вносить изменения в CSS или JavaScript-код блока не нужно.

![Смена положения блоков](key-concepts__head.png)

![Смена положения блоков](key-concepts__head_changed.png)

#### Повторное использование

В интерфейсе может одновременно присутствовать несколько экземпляров одного и того же блока.

![Товары в интернет-магазине](key-concepts__goods-list.png)

## Элемент

Составная часть [блока](#Блок), которая не может использоваться в отрыве от него.

Например, пункт меню вне контекста блока меню не используется, значит является элементом.

![Пункты меню](key-concepts__menu-items.png)

>[Когда создавать блок, когда элемент?](../../faq/faq.ru.md#В-каком-случае-создавать-блок-в-каком--элемент)

>[Почему в методологии БЭМ не рекомендуется создавать элементы элементов?](../../faq/faq.ru.md#Почему-в-БЭМ-не-рекомендуется-создавать-элементы-элементов-block__elem1__elem2)

## Модификатор

БЭМ-сущность, определяющая внешний вид, состояние и поведение [блока](#Блок) или [элемента](#Элемент).

Модификатор имеет имя и может иметь строго одно строковое значение. В случае, когда модификатор не имеет конкретного значения, он называется простым.

Использование модификаторов опционально.

По своей сути модификаторы похожи на атрибуты в HTML. Один и тот же блок выглядит по-разному благодаря применению модификатора.

Например, внешний вид блока меню (`menu`) может меняться в зависимости от примененного модификатора.

![Добавить меню в подвале](key-concepts__site-footer-menu.png)

Модификаторы могут изменяться как в процессе работы блока (например, как реакция на DOM-события блока), так и по запросу из других блоков.

Например, при клике по кнопке Sign In (DOM-событие click), в случае неверно заполненных полей Login или Password, на скрытый блок сообщений об ошибках установить модификатор (`visible`).

## БЭМ-сущность

БЭМ-сущностью называется [блок](#Блок), [элемент](#Элемент) или [модификатор](#Модификатор).

## Микс

Способ использования разных [БЭМ-сущностей](#БЭМ-сущность) на одном [DOM-узле](https://ru.wikipedia.org/wiki/Document_Object_Model).

Миксы позволяют:

* совмещать поведение и стили нескольких БЭМ-сущностей без дублирования кода;
* создавать семантически новые компоненты интерфейса на основе имеющихся блоков и элементов.

Рассмотрим пример микса блока и элемента другого блока.

Допустим, в проекте ссылки реализованы блоком `link`. Необходимо сделать ссылками пункты меню. Существует несколько способов:

* Создать модификатор для пункта меню, который превратит пункт в ссылку. Но в таком случае для реализации модификатора придется скопировать поведение и стили блока `link`. Это приведет к дублированию кода.

* Воспользоваться миксом универсального блока `link` и элемента `link` блока `menu`. Такой микс позволит применить базовую функциональность ссылок из блока `link` и дополнительные CSS-правила из блока `menu` без копирования кода.

## БЭМ-узел

БЭМ-узел является узлом [БЭМ-дерева](#БЭМ-дерево) и описывается группой БЭМ-сущностей, включающей в себя набор блоков и элементов с модификаторами. БЭМ-сущности можно разделить на основные и примешиваемые.

## БЭМ-дерево

Представление структуры веб-страницы в виде дерева БЭМ-узлов.

В упрощенном виде это абстракция над [DOM-деревом](https://ru.wikipedia.org/wiki/Document_Object_Model), которая описывает БЭМ-сущности, порядок, вложенность и вспомогательные данные. В полном виде БЭМ-узлы могут быть привязаны к нескольким DOM-узлам одновременно.

В реальных проектах БЭМ-дерево можно выразить любым форматом, который поддерживает древовидную структуру.

Рассмотрим пример DOM-дерева:

```html
<header class="header">
    <img class="logo">
    <form class="search-form">
        <input type="input">
        <button type="button"></button>
    </form>
    <ul class="lang-switcher">
        <li class="lang-switcher__item">
            <a class="lang-switcher__link" href="url">en</a>
        </li>
        <li class="lang-switcher__item">
            <a class="lang-switcher__link" href="url">ru</a>
        </li>
    </ul>
</header>
```

Ему соответствует такое БЭМ-дерево:

```
header
    ├──logo
    └──search-form
        ├──input
        └──button
    └──lang-switcher
        └──lang-switcher__item
            └──lang-switcher__link
        └──lang-switcher__item
            └──lang-switcher__link
```

Это же БЭМ-дерево будет иметь следующий вид в форматах XML и [BEMJSON](https://ru.bem.info/technology/bemjson/):

XML

```xml
<block:header>
    <block:logo/>
    <block:search-form>
        <block:input/>
        <block:button/>
    </block:search-form>
    <block:lang-switcher>
        <elem:item>
            <elem:link/>
        </elem:item>
        <elem:item>
            <elem:link/>
        </elem:item>
    </block:lang-switcher>
</block:header>
```

BEMJSON

```js
{
    block: 'header',
    content : [
        { block : 'logo' },
        {
            block : 'search-form',
            content : [
                { block : 'input' },
                { block : 'button' }
            ]
        },
        {
            block : 'lang-switcher',
            content : [
                {
                    elem : 'item',
                    content : [
                        { elem : 'link' }
                    ]
                },
                {
                    elem : 'item',
                    content : [
                        { elem : 'link' }
                    ]
                }
            ]
        }
    ]
}
```

## Реализация БЭМ-сущности

Набор различных [технологий](#Технология-реализации), определяющих следующие особенности БЭМ-сущности:

* поведение;
* внешний вид;
* тесты;
* шаблоны;
* документацию;
* описание зависимостей;
* дополнительные данные (например, картинки).

## Технология реализации

Технология, которая используется для [реализации](#Реализация-БЭМ-сущности) БЭМ-сущности.

Блоки могут быть реализованы в одной или нескольких технологиях, например:

* поведение — JavaScript, CoffeeScript;
* внешний вид — CSS, Stylus, Sass;
* шаблоны — Pug, Handlebars, XSL, BEMHTML, BH;
* документация — Markdown, Wiki, XML.

Например, если внешний вид блока задан с помощью CSS, это означает, что блок реализован в технологии CSS. А если документация к блоку написана в формате Markdown — блок реализован в технологии Markdown.

## Переопределение БЭМ-сущности

Изменение [реализации](#Реализация-БЭМ-сущности) БЭМ-сущности путем добавления ей новых особенностей на другом [уровне](#Уровень-переопределения).

## Уровень переопределения

Набор БЭМ-сущностей и их [реализаций](#Реализация-БЭМ-сущности).

Реализация может быть разнесена на разные уровни переопределения. Каждый последующий уровень добавляет или перекрывает текущую реализацию блока.

Конечным результатом для каждой [технологии реализации](#Технология-реализации) является сборка отдельных [реализаций](#Реализация-БЭМ-сущности) со всех уровней переопределения в заданном порядке и обработкой их, согласно правилам сборки технологии реализации.

![Уровень переопределения](key-concepts__levels.png)

[Переопределять](#Переопределение-БЭМ-сущности) можно любые [технологии реализации](#Технология-реализации) БЭМ-сущностей.

Например, в проект на отдельный уровень подключается сторонняя библиотека, которая содержит готовые реализации блоков. Проектные блоки хранятся на другом уровне переопределения.

Предположим, что необходимо изменить внешний вид одного из блоков библиотеки. Для этого не нужно менять CSS-правила блока в исходном коде библиотеки или копировать код на уровень проекта. Достаточно создать дополнительные CSS-правила для этого блока на проектном уровне. При сборке в конечную реализацию подключатся исходные стили с уровня библиотеки и новые — с уровня проекта.

[БЭМ: Разработка под несколько платформ](http://veged.github.io/mcs-meetup-20150827/)

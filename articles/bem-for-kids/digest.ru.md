# Дайджест новостей по БЭМ. Выпуск №11.

Кто летом не сидел без дела, тот мы! Итоги работы нашей команды за три летних месяца: 

* [Новости библиотек](#Новости-библиотек)
* [Новости технологий](#Новости-технологий)
* [Новости инструментов](#Новости-инструментов)
* [Новости БЭМ из мира React](#Новости-БЭМ-из-мира-react)
* [Новости документации](#Новости-документации)
* [Новости мероприятий и сообщества](#Новости-мероприятий-и-сообщества)


## Новости библиотек

### bem-core

Выпустили минорную версию [v4.2.1](https://github.com/bem/bem-core/tree/v4.2.1). 

Исправлено: 

* Ошибка с инвалидацией кеша элементов при изменении DOM.
* Ошибка в `i-bem-dom__events`, приводившая к тому, что данные события не передавались в обработчик.
* Метод `isEditable` модуля `dom`. Добавлены недостающие типы.

Изменения, вошедшие в релиз:

* Синтаксические изменения в JSDoc блока `i-bem-dom`.
* Незначительная доработка документации.
* Добавление [CLA](https://github.com/bem/bem-core/blob/v4/CLA.md)(Contributor License Agreement).

Подробности в [CHANGELOG](https://github.com/bem/bem-core/blob/v4.2.1/CHANGELOG.ru.md#421). 

### bem-core: get rid of jQuery!

Выпилили jQuery из bem-core. Официального релиза пока не было, но [релиз-кандидат](https://github.com/bem/bem-core/tree/turbo-rc.1) уже можно пробовать и писать нам отзывы!

### bem-components

Выпустили минорную версию [v6.0.1](https://github.com/bem/bem-components/tree/v6.0.1), в которой обновили [bem-core](https://github.com/bem/bem-core/tree/v4.2.1) до версии `4.2.1` и устранили ряд ошибок: 

* Поддержка [bem-xjst 8.x](https://github.com/bem/bem-xjst/releases/tag/v8.6.0): режим `js()` заменен на `addJs()`.
* В блоке `popup` у молификатора `target_anchor` исправлены вычисления позиции для поддержки новой версии jQuery.
* Исправлена ошибка, при которой не удалялись контролы в `select_mode_radio-check`.

Изменения, вошедшие в релиз:

* Добавлен [CLA](https://github.com/bem/bem-core/blob/v4/CLA.md)(Contributor License Agreement).
* Удалены неиспользуемые шаблоны в блоке `attach`. 

Подробности в [CHANGELOG](https://github.com/bem/bem-components/blob/v6.0.1/CHANGELOG.ru.md#601).

## Новости технологий

### bem-xjst
Выпустили релизы: 
* [v8.6.12](https://github.com/bem/bem-xjst/releases/tag/v8.6.12)-[v8.6.13](https://github.com/bem/bem-xjst/releases/tag/v8.6.13).  
  * `generate()` method fixed: CommonJS variant should not affect global.

* [v8.7.0](https://github.com/bem/bem-xjst/releases/tag/v8.7.0)-[v8.7.1](https://github.com/bem/bem-xjst/releases/tag/v8.7.1)  
  * Nested mixes is supported. It’s been worked in v1.x but then somehow was broken. Now you can use it again.

{ block: 'b', mix: { block: 'c', mix: { block: 'nested-mix', js: true } } }
Will be rendered as:

<div class="b c nexted-mix i-bem"></div>
BEMHTML: OL and UL end tags is not optional according to W3C HTML4 spec.

* Source map support added.
* Runtime line check: mods can’t be Array typed.


* [v8.8.0](https://github.com/bem/bem-xjst/releases/tag/v8.8.0)-[v8.8.2](https://github.com/bem/bem-xjst/releases/tag/v8.8.2)  
  * Custom naming improved: mods can be object { name: '...', val: '...' }. Backward capability is supported. Улучшено пользовательское именование: модами могут быть объекты {name: '...', val: '...'}. Поддерживается обратная возможность.  
  * Fix: generate() exports to commonJS  
  * When you use production option with true value you can define function for custom error logging. This function will be used instead of regilar console.error. Custom function will be filled with two arguments:

* Object with block, element and modifiers fields where error occurred.
* Original JS error.

You can define custom onError function by extending prototype of BEMContext. 


### bem-express
Обновили версии библиотек bem-core 4.2.1 и bem-components 6.0.1.

### bemhint-deps-schema
Выпустили новую версию плагина для bemhint — [bemhint-deps-schema 2.1.0](https://www.npmjs.com/package/bemhint-deps-schema), который проверяет, чтобы файлы `*.deps.js` соответствовали спецификации. Теперь `bemhint-deps-schema` умеет обрабатывать не только `.json`-, но и `.js`-файлы с `module.exports`.
 
## Новости инструментов

### bem-sdk
Начали большую работу по переносу bem-sdk в монорепозиторий: https://github.com/bem/bem-sdk.

### borschik
Выпустили мажорную версию borschik [v2.0.0](https://github.com/borschik/borschik/tree/v2.0.0), где заменили [uglify-js](https://www.npmjs.com/package/uglify-js) на [uglify-es](https://www.npmjs.com/package/uglify-es) для поддержки ES6.

## Новости БЭМ из мира React

### bem-react-core
Продолжаем активно развивать библиотеку bem-react-core. Выпустили несколько минорных версий [v0.4.3](https://github.com/bem/bem-react-core/tree/v0.4.3)-[v0.4.6](https://github.com/bem/bem-react-core/tree/v0.4.6). 

//
Основные изменения: 
- Рендер без CSS-класса (bem:false). 
- Поддержка [cls](https://github.com/bem/bem-react-core/blob/v0.4.2/REFERENCE.ru.md#cls), [mix](https://github.com/bem/bem-react-core/blob/v0.4.2/REFERENCE.ru.md#mix-addmix). 
- Доопределение статических полей `defaultProps` и `propTypes`. 
- Сокращенный синтаксис декларации модификаторов. 
- Поддержка [HOC](https://facebook.github.io/react/docs/higher-order-components.html) (redux, flux и других оберток). 
//

Обновили документацию – [REFERENCE](https://github.com/bem/bem-react-core/blob/master/REFERENCE.ru.md). 

Провели ряд мероприятий, посвященных bem-react-core:
* Провели серию мастер-классов по bem-react-core. Видео можно найти на YouTube в канале [bem.info](http://bit.ly/BEM-video).
* Сергей Бережной рассказл на Я.Субботнике по фронтенду, что делать, если вы используете i-bem.js и хотите получить преимущества React-подхода без потери привычных БЭМ-терминов и декларативности. И как поступить, когда вы используете React и хотите получить преимущества БЭМ-методологии. [Видео доклада](http://bit.ly/2xcIDlY).

### bem-react-components
Продолжаем активно развивать [bem-react-components](https://github.com/bem/bem-react-components) — библиотеку блоков для разработки с React по БЭМ-методологии. 

### create-bem-react-app
Продолжаем создавать реактовый проджект стаб [create-bem-react-app](https://github.com/bem/create-bem-react-app), который позволяет одной командой собрать готовое React/БЭМ-приложение с установленными зависимостями и правильной файловой структурой.  

## Новости документации

Как и обещали, написали много нового и пересмотрели часть старой документации:

* Большой и полезный туториал по всему БЭМ-стеку: [Переходим на сторону сервера с bem-express](https://habrahabr.ru/company/yandex/blog/337166/) от Сергея Бочарова. Пока опубликовали только на Хабрахабре, но в ближайшем будущем разместим его в нашем разделе [обучающих материалов](https://ru.bem.info/platform/tutorials/).
* Новые документы в разделе [Методология](https://ru.bem.info/method/):  
  * [Уровни переопределения]()  
  * [Способы изменения блока]()  
  * [HTML по БЭМ]()  

* Переработанные и обновенные документы:  
  * [Соглашение по именованию]()
  * [Организация файловой структуры]() 
  * [JS по БЭМ]()  


## Новости мероприятий и сообщества

* Организовали несколько встреч БЭМ-сообщества — BEMup'ов, на которых Сергей Бережной провел мастер-классы по использованию библиотеки [bem-react-core](https://github.com/bem/bem-react-core). Скринкасты со всех встреч можно найти на [Youtube](https://www.youtube.com/channel/UCsHVzqjMO31I8qKHhWHsobg?view_as=subscriber) или по тегу [BEMup + video](https://ru.bem.info/forum/?labels=BEMup%2Cvideo) на форуме bem.info.
* Владимир Гриненко и Сергей Бережной выступили на FullStack Conference с докладом [BEM — The unknown](http://bit.ly/2vLP5Tu).
* Владимир Гриненко рассказал о зависимостях в компонентном вебе на HolyJSconf в Питере. Доклад [Зависимости в компонентном вебе, сделанные правильно](http://bit.ly/2rWWEDY).






Результаты хакатона по инструментам БЭМ, 30 сентября, 1 октября 2017
Привет!
Как вы, возможно, слышали, с 30 сентября по 1 октября в Москве прошел очередной хакатон по БЭМ.
Спешим поделиться результатами.
bemhint
Айсель Шерфединова под чутким руководством Евгения Гаврюшина выпустили новую версию bemhint 0.10.0, где появилась поддержка предупреждений. Обновление сохраняет полную обратную совместимость с предыдущей версией и уже опробовано на нескольких реальных проектах.
Кроме того, ребята вынесли в open source линтер недостающих депсов от Дмитрия Старостина, где добавили поддержку ES6 и написали обертку-раннер для линтера bem-xjst. В каждом репозитории есть подробная документация.
Обновляйтесь и подключайте новые линтеры! Исследования показали, что с линтерами код становится на 73% мягче и на 27% шелковистее.
ugg
Сервис ugg стараниями Андрея Абрамова и Василия Логиневского удалось завести и получить актуальную статистику по использованию библиотек в Яндексе.
В процессе решили, что старый ugg не позволяет получить необходимые данные и Василий Логиневский начал делать новое решение + запилил у нему UI для отображения данных.
Большой брат почти доволен. Дальше нужно научиться собирать больше данных, автоматизировать их сбор и публиковать результаты в Статфейс.
Обновить enb-bemxjst
Александр Шлейко при помощи Андрея Абрамова занялся обновлением enb-bemxjst до актуальной версии bem-xjst, где появилась поддержка экспортов в разные модульные системы (раньше эту задачу брала на себя технология для ENB).
В процессе обнаружились баги в самом bem-xjst:
https://github.com/bem/bem-xjst/pull/480 (влито)
https://github.com/bem/bem-xjst/pull/481 (в процессе)
Сам pull request по обновлению ожидает закрытия второго бага в bem-xjst и, возможно, дополнительных тестов/улучшений.
После этого станут доступны все те крутые фичи и багфиксы, которые уже давно готовы в самом bem-xjst 8.x.
Стабилизация и релиз пакетов bem-sdk из монорепо
На прошлом хакатоне начали переезд SDK из отдельных репозиториев в монорепо, т.к. стало понятно, что они очень активно используют друг друга и релиз одного требует внесения изменений во все связанные.
В процессе избавились от циклических зависимостей между модулями и распилили все для оптимального использования на клиенте. Однако закончить миграцию в прошлый раз не успели.
Поэтому на этом хакатоне Константин Гладких продолжил работу по миграции тестов модулей bem-sdk с `ava` на `mocha`, что позволило считать покрытие в монорепозитории.
Доделать поддержку сетов не успели, но, кажется, придумали, как сделать правильно и сохранить обратную совместимость.
Остальные участники команды Василий Логиневский, Андрей Абрамов и Алексей Ярошевич чинили баги, обновляли документацию и всячески приближали релиз.
Где-то в процессе Алексей Ярошевич написал еще пару пакетов @bem/sdk.file и @bem/sdk.naming.file.stringify — теперь можно взять описание БЭМ-сущности, путь до уровня, передать вашу схему файловой структуры и получить путь до файла.
Алексей Ярошевич зарелизил все пакеты, так что теперь можно пробовать мигрировать (впрочем, можно было и раньше ;)
Вкрутить bem-sdk в ENB
Андрей Абрамов и Дмитрий Андриянов продолжили внедрять модули из bem-sdk в ENB. Вот задачка.
В ближайшее время ожидается canary-версия, которую можно будет попробовать у себя на проекте. Подглядывать (или помогать) можно здесь.
bem-tools-find
Сергей Бережной начал bem-tools-find. Надеемся, на следующем хакатоне инструмент сойдется.
md2xliff и линтер Markdown-документации
Мария Вершинина, Евгений Мищенко и Сергей Бочаров:
Начали миграцию md2xliff — инструмента для итеративного перевода документации в маркдауне — с marked на remark. По задумке это должно исправить нерешаемые проблемы marked.
Написали правило для линтера Markdown-документации на поиск стоп-слов.
bem.info
Виталий Харисов вернул накопившийся на bem.info технический и контентный долг плюс внедрил md-to-bemjson (кстати, это теперь тоже монорепо).
Анна Тютюнник полировала верстку, Елизавета Голубенко доделывала недостающие фичи для нового форума, а Александр Фурсенко занимался CI для этого всего.
Еще у нас была пицца. Приходите на следующей хакатон, у вас тоже будет! ;)

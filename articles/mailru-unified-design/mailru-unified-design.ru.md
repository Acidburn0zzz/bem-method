# Унификация дизайна: Фреймворк Mail.Ru Group для мобильного веба

_Статья написана [для Smashing Magazine](//www.smashingmagazine.com/2015/02/04/product-design-unification-case-study-mobile-web-framework/)._

![Унификация дизайна: Фреймворк Mail.Ru Group для мобильного веба](https://img-fotki.yandex.ru/get/5804/246231603.0/0_14ae40_59a182f4_orig.png)

У&nbsp;компаний с&nbsp;большим портфелем продуктов со&nbsp;временем встает вопрос упрощения работы над ними. В&nbsp;Mail.Ru Group их&nbsp;около&nbsp;40, не&nbsp;считая мобильных и&nbsp;планшетных версий, а&nbsp;также огромного игрового направления. Наше подразделение Почты и&nbsp;Портала занимается почти половиной из&nbsp;этих сорока. Что вместе с&nbsp;сопроводительными приложениями, мобильными сайтами и&nbsp;промо-ресурсами&nbsp;— за&nbsp;сотню проектов. Сейчас мы&nbsp;ведем их&nbsp;поэтапное обновление и&nbsp;унификацию вокруг нескольких гайдлайнов. На&nbsp;примере одного из&nbsp;них я&nbsp;расскажу о&nbsp;том, как перестроить дизайн-процесс от&nbsp;классического «прототип&nbsp;→ макет&nbsp;→ верстка&nbsp;→ код» для каждого экрана к&nbsp;более **эффективному и&nbsp;современному, основанному на&nbsp;фреймворках**.

В&nbsp;середине 2012 года мы&nbsp;перезапустили мобильные Новости&nbsp;— первый проект на&nbsp;новой дизайнерско-технической платформе, чем-то похожей на&nbsp;твиттеровский [Bootstrap](http://getbootstrap.com/). Сейчас на&nbsp;ней работает уже десяток сервисов и&nbsp;скоро перезапустится еще пара-тройка.

![02-Overview-Full](https://img-fotki.yandex.ru/get/15535/246231603.0/0_14ae41_fb5cd589_orig.png)

Главная страница, Авто, Валюты, Гороскопы, Дети, Курсы, Леди, Новости, Ответы, Погода, Спорт, ТВ, Hi-Tech

Чем хорош такой подход?

*   **Единый визуальный стиль и&nbsp;принципы работы интерфейса**, а&nbsp;также его информационная архитектура. Это удобно для пользователя&nbsp;— группа схожих продуктов работает одинаково понятно и&nbsp;привычно. А&nbsp;также хорошо для бренда&nbsp;— вся линейка сервисов выглядит целостной.
*   **Упрощение запуска новых продуктов и&nbsp;редизайна существующих**. В&nbsp;фреймворке есть большинство необходимых блоков и&nbsp;компонентов на&nbsp;все случаи жизни, что позволяет быстро собрать новый интерфейс.
*   **Контролировать большой пул проектов становится проще**, когда они устроены одинаково. Вместо сотни отдельных проектов вы&nbsp;следите за&nbsp;парой гайдлайнов.
*   **Современный дизайн-процесс**. Вместо классической цепочки «прототип&nbsp;→ макет&nbsp;→ верстка&nbsp;→ код» для каждого экрана, генерирующей кучу ненужных артефактов&nbsp;— переход к&nbsp;сборке дизайна напрямую в&nbsp;коде.
*   **Кумулятивный эффект от&nbsp;удачных продуктовых решений**. Например, подняв глубину просмотра на&nbsp;одном из&nbsp;сервисов, легко применить эти улучшения на&nbsp;остальные.
*   Переход от&nbsp;крупных редизайнов раз в&nbsp;несколько лет к&nbsp;**постоянному поддержанию актуальности интерфейса**. Перезапуски отнимают много сил и&nbsp;теряют тысячи мелких наработок, прикрученных к&nbsp;дизайну за&nbsp;долгое время его развития.

В&nbsp;общем, это ключевая часть нашей UX-стратегии. Но&nbsp;самое важное&nbsp;— то&nbsp;что фреймворк стал еще и&nbsp;технической унификацией. Мы&nbsp;делали много подходов к&nbsp;«снаряду»&nbsp;— писали спецификации, собирали единый исходник, делали библиотеки элементов и&nbsp;т.п. Но&nbsp;все это быстро затухало, потому что находилось в&nbsp;уютном дизайнерском мирке и&nbsp;было слабо востребовано разработчиками. А&nbsp;мы&nbsp;все знаем, как часто «перевирается» дизайн на&nbsp;пути из&nbsp;макетов в&nbsp;реализацию. Но&nbsp;если один раз сделать код правильным и&nbsp;распространяемым&nbsp;— вот тогда гораздо больше поводов для уверенности в&nbsp;качестве дизайна, работающего в&nbsp;реальном продукте. Поэтому один из&nbsp;главных критериев успешности любых проектов по&nbsp;унификации&nbsp;— их&nbsp;перенос на&nbsp;уровень конкретной реализации.

## Как устроен и&nbsp;работает фреймворк?

Общий принцип работы первой версии фреймворка выглядит так:

**Большое полотно с&nbsp;исходниками** всех блоков интерфейса и&nbsp;типовых экранов в&nbsp;PSD. А&nbsp;также библиотека в&nbsp;Adobe InDesign, которая максимально близка к&nbsp;дизайн-макетам в&nbsp;визуальной части. Когда мы&nbsp;начинаем новый проект&nbsp;— проектируем все необходимые экраны в&nbsp;InDesign. Этот прототип легко провязывается ссылками и&nbsp;отлично работает на&nbsp;устройстве, если экспортировать его в&nbsp;PDF. Если какие-то блоки уникальны для нового проекта и&nbsp;их&nbsp;еще не&nbsp;было в&nbsp;UI&nbsp;Kit&nbsp;— мы&nbsp;прорисовываем их&nbsp;в&nbsp;Photoshop и&nbsp;после согласования добавляем в&nbsp;библиотеку InDesign.

![UI Kit в
Photoshop](https://img-fotki.yandex.ru/get/15580/246231603.0/0_14ae42_3aeb8b27_orig.png)

Часть полотна UI Kit в Photoshop

Все новые блоки попадают в&nbsp;**единую базу кода**. Из&nbsp;готовых компонентов собирается верстка всех экранов в&nbsp;виде прототипа. Некоторые из&nbsp;них полностью стандартизированы&nbsp;— например, комментарии или фотогалереи. Дизайнеры проверяют сборку перед запуском, если нужно&nbsp;— дорабатывают макеты и&nbsp;логику взаимодействия интерфейса. Ведь в&nbsp;работающей связке всегда находятся нестыковки относительно первоначального видения.

```
 touch.news/
    blocks/
      logotype/
        logotype.png
    bundles/
      article
    /* Собираются из blocks и toolkit. Включает псевдо-бандл common.css */
    toolkit/
      blocks/
        logotype/
          logotype.xml
        section/
          header/
```

Для показа страницы сайта в браузере пользователя используется **шаблонизатор**. Он собирает итоговую верстку на лету из отдельно сверстанных блоков, графики, стилей и скриптов. Для всех типов страниц определяются правила их сборки — т.е. набор блоков и их последовательность. Причем шаблон и данные для отрисовки конкретного URL разделены и загружаются параллельно. Например, если пользователь уже открывал ленту новостей, у него закешируется верстка страницы и в следующий раз будет подкачиваться только контент.

![Шаблонизатор](https://img-fotki.yandex.ru/get/6747/246231603.0/0_14ae43_fa51fc0f_orig.png)

Общий принцип работы шаблонизатора

**Если мы нашли новое решение** для старого блока или компонента (например, новый вид фотогалерей), он меняется в макетах, прототипе и базе кода. После этого каждый проект обновляет его у себя из общего репозитария, почти как приложения из AppStore. При этом дизайнеру нужно проверить только одну реализацию в единой базе кода вместо того чтобы отслеживать каждый из сервисов. И можно быть уверенным в качестве реализованного дизайна.

![Текущий рабочий
процесс](https://img-fotki.yandex.ru/get/15485/246231603.0/0_14ae44_70734a2c_orig.png)

Текущий рабочий процесс с фреймворком

В ближайшем будущем мы планируем пересмотреть первый этап — дизайнеры перейдут от работы с макетами и прототипами в Photoshop и InDesign к сборке новых страниц из кода. Но для этого важно пройти по всему процессу создания и внедрения фреймворка:

1.  **Создание модельного дизайна и платформы**. Необходимо найти подходящее для наших продуктов и масштабируемое интерфейсное решение, определиться со стилистикой и реализовать техническую часть фреймворка.
2.  **Перевод всех продуктов на платформу**. UI Kit и единая база кода активно расширяются за счет новых решений, а бек-энд сервисов приводится в соответствие с требованиями фреймворка.
3.  **Упрощение дизайн-процесса**. Техническое решение уже обкатано и основные задачи решены, поэтому от создания множества артефактов можно отказаться и собирать новые экраны из готовых блоков в единой базе кода.
4.  **Рефакторинг дизайна**. Запуск десятка продуктов занимается достаточно внушительное время, за которое выявляются проблемы в реальной жизни сервисов. Да и дизайнерские тренды меняются.

Сейчас у нас параллельно идут третий и четвертый этап внедрения фреймворка. Но плюсы работы с ним мы ощутили уже в самом начале — развитие платформы идет легко, количество лишней работы снизилось до минимума. Оглядываясь назад, мы наверняка смогли бы сделать процесс создания и внедрения фреймворка правильнее и короче. Но я расскажу о наших правильных и ошибочных решениях в деталях, чтобы вы смогли пройти этот путь быстрее.

## Предыстория, часть 1: Дизайн

Начиналось все с главной страницы для мобильных в начале 2012 года. Был определен общий подход к дизайну — карточки для выделения блоков с разной информацией, общая стилистика шапки и заголовков, элементов управления и т.п. Эти решения всем понравились и мы решили перенести концепцию на Новости. При этом главная — пусть и длинный, но одностраничник, а в контент-проекте гораздо больше информации и сложнее структура. К счастью, Новости — самый простой из них, там нет никаких сервисных разделов кроме базового поиска и комментариев, только текстовый и медийный контент.

![Главная Mail.Ru для мобильных,
2012](https://img-fotki.yandex.ru/get/16145/246231603.0/0_14ae45_b257fd30_orig.png)

Главная Mail.Ru для мобильных, 2012

> Первая мобильная версия продукта Mail.Ru Group появилась в 2004 году — это была Почта.

![WAP-версия почты Mail.Ru ©
Компьютерра-Томск](https://img-fotki.yandex.ru/get/5412/246231603.0/0_14ae46_4db28432_orig.png)

Нужно было продумать принципы навигации, способы подачи контента и материалов по теме, компоновку типовых страниц. Причем они должны учитывать и будущие мобильные версии для других контент-проектов, которые должны быть созданы на основе этого гайдлайна. К счастью, мы уже успели сделать мобильную Афишу с достаточно сложной структурой и массой сервисов. Интерфейсные решения отличались от того что нам нужно для Новостей, зато подача информации и часть паттернов навигации пригодились.

![Афиша,
2012](https://img-fotki.yandex.ru/get/3301/246231603.0/0_14ae47_2304886d_orig.png)

Афиша, 2012

Для мобильной Афиши было проведено юзабилити-тестирование, из которого мы сделали много полезных выводов как для развития самого продукта, так и для представления контент-проектов на мобильных в целом. Например, востребованным оказалось дублирование поиска внизу страницы. А во врезах-слайдерах последний элемент должен вести на список всех объектов. Кроме того, подход к разделению блоков без использования карточек показал ряд проблем — сложно работать с длинными страницами, контент которых зачастую слишком разнороден. От карточек отказались в iOS7 и я уверен, что это мешает работе со сложными экранами — сложнее понимать принцип группировки элементов.

![Афиша без использования
карточек](https://img-fotki.yandex.ru/get/32/246231603.0/0_14ae48_68efa8e8_orig.png)

Вариант дизайна без карточек

Мы собрали первый прототип в InDesign, во многом похожий по визуальной стилистике на дизайн, но не повторяющий его в мелочах. В нем возникли первые вопросы по применению паттернов. Например, экономить ли трафик или показывать в списках иллюстрацию к каждому материалу? Или что делать с карточками в неоднозначных ситуациях — новость с сопроводительными материалами? Также важно было помнить, что часть пользователей заходит на контент-проекты по ссылке с главной страницы на конкретный материал, а часть — ходит по ним с главной страницы проекта. Куда в этом случае должна вести кнопка «Назад» в интерфейсе?

![Прототип в InDesign и макет в
Photoshop](https://img-fotki.yandex.ru/get/6841/246231603.0/0_14ae49_3cc5ba38_orig.png)

Сравнение прототипа в InDesign и макета в Photoshop

После того как в дизайн-макетах были показаны ключевые страницы, дизайнер предложил собрать их в одном файле для упрощения дальнейшей работы. Должен был получиться простой UI Kit, позволяющий быстрее дорисовывать остальные экраны проекта. Но мы решили пойти дальше и собрать гайдлайн в дополнение к нему — к задаче должны были подключиться другие дизайнеры, да и разработчики должны на что-то ссылаться при сборке проекта. Мы описали его в Confluence с такой структурой:

```
Обзор
Визуальный стиль
  Сетка
  Цветовая палитра
  Типографика
  Иконки
Взаимодействие
  Навигация
  Жесты
  Выбор
  Прокрутка
  Уведомления
Типовые элементы
  Структура экрана
    Шапка
    Название страницы
    Поиск
    …
    Подвал
  Элементы управления
    Ввод данных
      Поле ввода
      Текстовое поле
      Выпадающий список
      Дата
      Чекбокс
      Радио-кнопка
      …
    Кнопки
    …
  Навигация
    Вкладки
    Слайдер
    Ссылки
    Алфавитный указатель
    …
  Диалоги и окна
    Попап
    Просмотр фото
    Загрузка фото
    Календарь
    …
  Список
    Статьи
    События
    Матчи
    Результаты поиска
    …
  Виджеты
    Погода
    Валюты
    Гороскоп
    …
  Медиа
    Фото
    Видео
    …
Типовые экраны
  Авторизация
  Регистрация
  Настройки
  Помощь
  …
Реклама
  Баннеры
  Внутреннее промо
  …
```

Для обкатки гайдлайна мы&nbsp;нарисовали на&nbsp;его основе еще и&nbsp;Гороскопы. За&nbsp;исключением мелких проблем стиль работал&nbsp;— адаптация прошла быстро и&nbsp;легко. Такая обкатка очень важна&nbsp;— перед тем как раскидывать все на&nbsp;десяток проектов, нужен пилот. Он&nbsp;позволит обнаружить проблемы в&nbsp;концепции до&nbsp;того, как придется переделывать слишком многое.

![Гороскопы](https://img-fotki.yandex.ru/get/3702/246231603.0/0_14ae4a_a7fa2cb1_orig.png)

Гороскопы

## Предыстория, часть 2: Технологии

Обсуждая идею унификации с&nbsp;разработчиками и&nbsp;менеджерами, мы&nbsp;вспомнили, что у&nbsp;нас уже есть похожий механизм технической унификации&nbsp;— например, так работают портальная навигация и&nbsp;синяя шапка. А&nbsp;еще многое делается для Почты, общепортальных попапов авторизации и&nbsp;других частей интерфейса. Хотя технология требовала серьезной доработки&nbsp;— целые продукты на&nbsp;ней еще не&nbsp;запускались.

![Портальное меню, запущенное в 2011
году](https://img-fotki.yandex.ru/get/16116/246231603.0/0_14ae4b_6e40d79_orig.png)

Портальное меню, запущенное в 2011 году

Разработчики ушли детально исследовать задачу и&nbsp;смотреть, есть&nbsp;ли готовые решения и&nbsp;продукты. В&nbsp;качестве общей идеологии отлично подходил [БЭМ](https://ru.bem.info) (блок-элемент-модификатор) от&nbsp;Яндекса. Для унификации важно, чтобы одинаковые интерфейсные блоки использовались на&nbsp;как можно большем количестве страниц. Причем без необходимости каждый раз перепроверять, все&nbsp;ли хорошо на&nbsp;каждой из&nbsp;них. БЭМ гарантирует независимость оформления конкретного блока от&nbsp;того, что происходит вокруг него. Это методология, для упрощения работы с&nbsp;которой Яндекс создал open source-инструментарий bem-tools&nbsp;— кстати, наши разработчики даже отправили несколько патчей в&nbsp;репозитарий проекта. Раньше зачатки этой методологии назывались «абсолютно независимые блоки», а&nbsp;сейчас этим подходом активно проникаются на&nbsp;Западе&nbsp;— например, фреймворки [Inuit CSS](http://inuitcss.com) и&nbsp;[TopCoat](http://topcoat.io). Smashing Magazine опубликовал отличнейшую [подробную статью о&nbsp;БЭМ](//www.smashingmagazine.com/2014/07/17/bem-methodology-for-small-projects/) от&nbsp;бывшего разработчика Яндекса.

![БЭМ](https://img-fotki.yandex.ru/get/5803/246231603.0/0_14ae52_3f0dc24a_orig.jpg)

Идеология БЭМ

А&nbsp;вот шаблонизатор БЭМ оказался недостаточно производительным, да&nbsp;и&nbsp;по&nbsp;задаче не&nbsp;очень подходил. Поэтому были взяты уже использовавшиеся у&nbsp;нас технологии на&nbsp;базе JavaScript, использующие Node.js для выполнения кода на&nbsp;сервере. Благодаря этому и&nbsp;на&nbsp;сервере, и&nbsp;у&nbsp;пользователя&nbsp;— один и&nbsp;тот&nbsp;же шаблон страницы, который показывается абсолютно одинаково. Данные передаются отдельно от&nbsp;него. И&nbsp;когда шаблон кэшируется в&nbsp;браузере после первой загрузки, пользователю передается только контент, что сильно сокращает объем трафика и&nbsp;скорость загрузки.

> Я&nbsp;описываю техническое в&nbsp;общих чертах, поскольку цель этой статьи&nbsp;— рассказать о&nbsp;дизайн-процессе в&nbsp;целом. В&nbsp;третьей части оно будет детально описано.

Разработчики вернулись к&nbsp;нам через пару недель с&nbsp;прототипом&nbsp;— подход сработал! Фреймворк опробовали и&nbsp;расширили, так что все было готово к&nbsp;масштабному развертыванию. За&nbsp;2,5 месяца мы&nbsp;смогли перерисовать 12&nbsp;проектов&nbsp;— таких рекордов скорости мы&nbsp;еще не&nbsp;ставили. Гайдлайн заметно вырос и&nbsp;описывал построение общего стиля и&nbsp;многих конкретных блоков&nbsp;— множество навигационных решений, списки, разные виды карточек, способы представления контента, формы, попапы, диаграммы, специфичные для конкретных проектов решения. Выросли и&nbsp;библиотека в&nbsp;InDesign, и&nbsp;UI&nbsp;Kit в&nbsp;Photoshop.

Однако поддерживать сразу три библиотеки (код, InDesign, Photoshop) накладно, да&nbsp;и&nbsp;не&nbsp;особо удобно. Поэтому мы&nbsp;нашли способ сделать гайдлайн автоматизированным. Это «живой гайдлайн», т.е. генерируемая страница, в&nbsp;которую вместо картинок подставляются реальные куски кода из&nbsp;UI&nbsp;Kit. Там&nbsp;же добавляется описание для каждого из&nbsp;них. В&nbsp;таком виде куда проще проверять качество реализации&nbsp;— в&nbsp;гайдлайне видны уже реализованные блоки, а&nbsp;не&nbsp;их&nbsp;картинки-исходники, которые могут быть неправильно заверстаны по&nbsp;пути из&nbsp;макетов. Пока этот документ существует в&nbsp;виде прототипа, после перезапуска всех проектов на&nbsp;фреймворке мы&nbsp;закончим его. Кстати, с&nbsp;помощью этого автоматизированного гайдлайна можно собирать прототипы из&nbsp;кусков готового кода, минуя InDesign&nbsp;— это еще один способ стать ближе к&nbsp;конечной реализации.

![Прототип живого
гайдлайна](https://img-fotki.yandex.ru/get/3406/246231603.0/0_14ae53_7fee76e0_orig.png)

Прототип живого гайдлайна, созданный в начале работы над фреймворком

Так что в&nbsp;итоге получится лучше, чем Bootstrap. Ведь он&nbsp;по&nbsp;сути&nbsp;— набор готовых стилей и&nbsp;скриптов, а&nbsp;также примеры верстки. И&nbsp;при обновлении фреймворка не&nbsp;так просто перенести изменения в&nbsp;свой проект&nbsp;— возможно, придется подгонять верстку к&nbsp;новым правилам. В&nbsp;нашем случае проект получает набор готовых к&nbsp;использованию блоков, которые обновятся в&nbsp;проекте при изменениях в&nbsp;фреймворке. К&nbsp;тому&nbsp;же Bootstrap не&nbsp;придерживается модели независимых блоков, что приводит к&nbsp;конфликтам&nbsp;— например, в&nbsp;связке Bootstrap и&nbsp;jQuery UI&nbsp;они будут перебивать стили друг друга. Правда, он&nbsp;и&nbsp;решает немного другие задачи&nbsp;— быстрый старт проекта на&nbsp;готовых элементах. Хотя это&nbsp;же является проблемой нашего, да&nbsp;и&nbsp;любого кастомного решения&nbsp;— для его создания требуется больше времени.

И&nbsp;немного цифр о&nbsp;том, как изменился наш рабочий процесс благодаря фреймворку:

*   **Увеличилась скорость проектирования и&nbsp;дизайна интерфейса**. Если раньше мы&nbsp;полностью прорисовывали большинство экранов в&nbsp;InDesign и&nbsp;Photoshop для каждого проекта, то&nbsp;теперь зачастую достаточно скетча на&nbsp;маркерной доске или бумаге, а&nbsp;также нескольких сборных макетов с&nbsp;визуальным дизайном новых блоков. Раньше на&nbsp;это уходило порядка месяца, теперь&nbsp;— в&nbsp;большинстве случаев около недели.
*   **Ускорился запуск новых проектов и&nbsp;упростилось добавление функций в&nbsp;существующие**. Не&nbsp;нужно заново верстать макеты и&nbsp;продумывать структуру базы данных, готовые блоки интерфейса можно сразу&nbsp;же включить в&nbsp;новый сервис. Даже если требуются какие-то небольшие дополнения, специфичные для проекта&nbsp;— это недорого, если блок был хорошо продуман при создании. В&nbsp;итоге запуск нового сервиса как правило укладывается в&nbsp;месяц, хотя раньше можно было потратить несколько.
*   **Упростились согласования дизайна с&nbsp;топ-менеджментом**. Во&nbsp;многом это решает любой гайдлайн, но&nbsp;будучи закрепленным в&nbsp;коде, он&nbsp;дает больше уверенности в&nbsp;итоговом качестве. Мы&nbsp;проводим для этого меньше встреч и&nbsp;делаем меньше правок по&nbsp;их&nbsp;итогу.
*   **Уменьшилось количество ошибок верстки**. Если раньше дизайн-ревью реализованного дизайна могло включать более полусотни багов, то&nbsp;теперь&nbsp;— в&nbsp;районе дюжины. С&nbsp;другой стороны, возникла новая проблема&nbsp;— перед раскаткой обновленного блока нужно проверить, не&nbsp;поломался&nbsp;ли он&nbsp;на&nbsp;всех проектах.
*   **Более жесткие требования к&nbsp;фронт-енд-специалистам. Сменился фокус экспертизы**&nbsp;— раньше все вычисления делались на&nbsp;стороне бек-енда, фронт просто вставлял это в&nbsp;шаблон. Так все что могло тормозить, все неэффективные алгоритмы сортировки и&nbsp;т.п. —&nbsp;было на&nbsp;совести разработчиков. Теперь разработка выдает только данные, а&nbsp;шаблон является фактически JS-кодом, где вспомогательные функции могут влиять на&nbsp;быстродействие всей страницы. Грубо говоря, если раньше вероятность тормозов верстки давала&nbsp;2% риска, то&nbsp;теперь&nbsp;— под 70%. Кроме того, при создании нового блока приходится сразу&nbsp;же закладывать возможность роста его функционала в&nbsp;будущем, чтобы потом не&nbsp;переделывать его глобально. Так что в&nbsp;целом порог входа повышается.
*   **Взаимозаменяемость кадров и&nbsp;легкость перераспределения ресурсов**. Верстальщик из&nbsp;проекта&nbsp;А может перехватить работу из&nbsp;проекта Б&nbsp;— принципы работы, а&nbsp;также стандарты кода и&nbsp;данных везде одинаковы. Унифицированные требования к&nbsp;данным также позволяют формировать задачу на&nbsp;их&nbsp;подготовку один раз, дальше задача в&nbsp;том&nbsp;же виде ставится по&nbsp;всем проектам. Кроме того, параллельное подключение к&nbsp;работе над одним проектом сразу нескольких верстальщиков стало ощутимо проще и&nbsp;целесообразнее.
*   **За&nbsp;счет всего этого команда остается небольшой и&nbsp;сфокусированной**. Вся линейка была обновлена силами 2&nbsp;UX-дизайнеров, 2&nbsp;визуальных дизайнеров, 6&nbsp;фронт-енд специалистов и&nbsp;3&nbsp;бек-енд разработчиков. При том что они занимались и&nbsp;другими задачами.
*   **Упростились эксперименты с&nbsp;дизайном**, а&nbsp;внедрение улучшений стало быстрее. Это была наша маленькая дизайнерская мечта&nbsp;— научиться внедрять идеи в&nbsp;жизнь быстрее конкурентов.
*   **Поддержание актуальности дизайна** превратилось из&nbsp;дорогого удовольствия раз в&nbsp;несколько лет в&nbsp;несложную рутинную задачу. Сейчас мы&nbsp;обновляем стиль проектов и&nbsp;в&nbsp;среднем актуализация каждого из&nbsp;них занимает пару дней.
*   С&nbsp;момента запуска фреймворка доля мобильных среди пользователей контент-проектов выросла с&nbsp;1-2% до&nbsp;7-12%. Некоторые продукты выросли до&nbsp;15-20%! Конечно, причина тут не&nbsp;столько в&nbsp;подходе к&nbsp;разработке&nbsp;— любой вариант позволил&nbsp;бы сделать это на&nbsp;таком быстрорастущем рынке. Но&nbsp;с&nbsp;помощью фреймворка мы&nbsp;смогли запускать мобильные версии с&nbsp;огромной скоростью.
*   На&nbsp;этом&nbsp;же движке будут перезапущены большие версии контент-проектов, что удешевит и&nbsp;их&nbsp;разработку. Об&nbsp;этом я&nbsp;расскажу в&nbsp;одной из&nbsp;следующих частей статьи.

Это не&nbsp;везде просто и&nbsp;легко, есть свои проблемы. Но&nbsp;общий выхлоп отличный.

## Будущее UI&nbsp;Kit

Изначально планировалось, что UI&nbsp;Kit будет поддерживать 3&nbsp;категории телефонов&nbsp;— современные смартфоны (Android, iPhone, Windows Phone), старые смартфоны (Bada, Symbian) и&nbsp;кнопочные телефоны. Кроме того, для старых браузеров на&nbsp;Android, включая стандартный до&nbsp;Chrome, показывалась немного упрощенная версия&nbsp;— они не&nbsp;тянули многие из&nbsp;нужных нам визуальных эффектов. Поначалу эта промежуточная версия имела более заметные отличия, но&nbsp;мы&nbsp;решили упростить ее&nbsp;с&nbsp;тем чтобы не&nbsp;поддерживать еще один вариант UI&nbsp;Kit, а&nbsp;позже и&nbsp;вовсе отказались от&nbsp;нее. Пока мы&nbsp;запускали версию для современных смартфонов, доля старых платформ и&nbsp;кнопочных телефонов сильно уменьшилась и&nbsp;в&nbsp;перспективе станет совсем мизерной. Мы&nbsp;планировали делать автоматическую деградацию дизайна для того чтобы не&nbsp;поддерживать сразу три гайдлайна. Но, похоже, что и&nbsp;этого не&nbsp;потребуется.

![Афиша для современных тачфонов, старых смартфонов и кнопочных
телефонов](https://img-fotki.yandex.ru/get/6828/246231603.0/0_14ae4c_eb0eb960_orig.png)

Версии Афиши для современных тачфонов, старых смартфонов и кнопочных телефонов

![Версия главной Mail.Ru для старых и современных
Android-телефонов](https://img-fotki.yandex.ru/get/3504/246231603.0/0_14ae4d_ed17895e_orig.png)

Версия главной Mail.Ru для старых и современных Android-телефонов

У&nbsp;такой унификации есть недостаток&nbsp;— полная одинаковость дизайна ведет к&nbsp;отсутствию идентичности у&nbsp;проектов. Наш опыт показывает, что в&nbsp;восприятии пользователей специализированный продукт (например, сервис прогнозов погоды) зачастую вызывает больше доверия, чем его аналог у&nbsp;большого портала. И&nbsp;**визуальное выделение сервиса из&nbsp;общей массы может помочь в&nbsp;этой ситуации**. Хотя в&nbsp;мобильном вебе это не&nbsp;так ощутимо, даже несмотря на&nbsp;его активный рост. Но&nbsp;в&nbsp;начале работы над UI&nbsp;Kit мы&nbsp;опробовали несколько способов стилизации проектов и&nbsp;вернемся к&nbsp;вопросу позже.

![Эксперименты по
стилизации](https://img-fotki.yandex.ru/get/15496/246231603.0/0_14ae4e_5ff402e_orig.png)

Эксперименты по стилизации единого дизайна

У&nbsp;кого-то из&nbsp;читателей наверняка возникнет вопрос&nbsp;— почему мы&nbsp;не&nbsp;использовали адаптивный дизайн, чтобы большая версия автоматически показывалась на&nbsp;мобильных в&nbsp;подходящем виде? Это давний и&nbsp;долгий спор, где у&nbsp;каждого из&nbsp;мнений свои аргументы за&nbsp;и&nbsp;против. В&nbsp;нашем случае важно было как можно быстрее запустить современные мобильные версии, а&nbsp;правильный адаптивный подход потребовал&nbsp;бы от&nbsp;нас сначала унифицировать версии для большого веба. Мы&nbsp;занимаемся этой задачей и&nbsp;уже запустили пару проектов на&nbsp;аналогичном движке. Но&nbsp;она сложнее и&nbsp;масштабнее, так что не&nbsp;позволила&nbsp;бы сделать все в&nbsp;разумные сроки. Smashing Magazine недавно выпустил [отличную статью на&nbsp;эту тему](//www.smashingmagazine.com/2014/07/22/responsive-web-design-should-not-be-your-only-mobile-strategy/).

Мы&nbsp;в&nbsp;любом случае стараемся сделать так, чтобы мобильная версия не&nbsp;была упрощенной&nbsp;— они содержат весь контент и&nbsp;большинство сервисов из&nbsp;основной версии. Хотя для все большего количества пользователей нет понятия «основная версия», для них то&nbsp;что они видят в&nbsp;своем телефоне&nbsp;— и&nbsp;есть основная и&nbsp;единственная версия продукта.

Унификацию можно начинать с&nbsp;двух сторон. Сначала создать гайдлайн и&nbsp;после этого применить его к&nbsp;существующим продуктам. Либо удачно обновить дизайн одного из&nbsp;них и&nbsp;выбрать его как референсный, создавая затем гайдлайн по&nbsp;его мотивам. Плюсы и&nbsp;минусы есть у&nbsp;обоих подходов, для нас ближе оказался второй. В&nbsp;этом случае мы&nbsp;масштабируем уже проверенный на&nbsp;практике дизайн, оптимизированный с&nbsp;помощью аналитики и&nbsp;пользовательских исследований. Есть риск того, что в&nbsp;дизайнерских решениях предусмотрели не&nbsp;все и&nbsp;придется корректировать отдельные паттерны, но&nbsp;продуктовая эффективность важнее.

А&nbsp;еще мы&nbsp;наконец-то смогли сделать унифицированные иконки&nbsp;— они показываются при установке сайта на&nbsp;стартовый экран телефона. Мы&nbsp;бились над этим очень долго&nbsp;— во&nbsp;всем мире задачу смог решить только Яндекс и&nbsp;отчасти Google на&nbsp;Android, у&nbsp;остальных все ограничивается эмблемой в&nbsp;углу иконки.

![Единые иконки
приложений](https://img-fotki.yandex.ru/get/6742/246231603.0/0_14ae4f_4e629a6e_orig.png)

Единые иконки приложений

Сейчас мы&nbsp;готовимся проверить легкость обновления UI&nbsp;Kit на&nbsp;практике&nbsp;— планируем осовременить визуальный стиль, ведь с&nbsp;момента его появления в&nbsp;референсном проекте пошло больше двух лет. И&nbsp;это еще один риск, на&nbsp;который нужно идти при внедрении гайдлайна&nbsp;— приходится давить в&nbsp;себе соблазны вносить в&nbsp;него разнобой осовремениванием отдельных частей. Да, какое-то время сервисы могут выглядеть немного несвежими. Зато после запуска единой платформы обновлять дизайн будет на&nbsp;порядок проще. Это позволит уйти от&nbsp;крупных редизайнов раз в&nbsp;несколько лет к&nbsp;постоянному поддержанию актуальности интерфейса. Перезапуски отнимают много сил и&nbsp;теряют тысячи мелких наработок, прикрученных к&nbsp;дизайну за&nbsp;долгое время его развития.

![Освежение
стиля](https://img-fotki.yandex.ru/get/5815/246231603.0/0_14ae50_c9316a08_orig.png)

Освежение стиля, которое внедряется сейчас

Да&nbsp;и&nbsp;следующий тренд после флэт-дизайна подхватить будет легко и&nbsp;быстро. Конечно, погоня за&nbsp;трендами&nbsp;— не&nbsp;самая похвальная затея. Однако в&nbsp;нашей индустрии периодически случаются достаточно резкие сломы визуальной парадигмы, как это было в&nbsp;прошлом году с&nbsp;выходом iOS7, и&nbsp;компании должны оперативно реагировать на&nbsp;них.

## Выводы

Изначально требовалось просто обновить дизайн контент-проектов на&nbsp;мобильных и&nbsp;сделать их&nbsp;похожими. Идея полной унификации, включая техническую часть, родилась по&nbsp;ходу работы и&nbsp;общения с&nbsp;разработчиками. Дружите с&nbsp;ними  И&nbsp;не&nbsp;ждите указаний свыше&nbsp;— двигайте компанию вперед сами. Огромное спасибо всей команде дизайнеров (Константин Зубанов, Геворг Глечян, Александр Киров, Евгений Беляев, Артем Гладков, Павел Скрипкин) и&nbsp;разработчиков (Дмитрий Беляев, Арстан Торегожин, Андрей Кусимов, Борис Ребров, Павел Рыбин, Павел Вдовцев), благодаря которым все это случилось. В&nbsp;особенности&nbsp;— Антону Епреву, который заложил основу технологического решения.

![Будущий процесс
работы](https://img-fotki.yandex.ru/get/15535/246231603.0/0_14ae51_d2ff0aed_orig.png)

Рабочий процесс в ближайшем будущем

В&nbsp;развитии гайдлайнов нужен некоторый авторитаризм, который поможет не&nbsp;пропускать несистемных решений. Если это возможно&nbsp;— нужно всегда использовать готовые паттерны. Если вводится что-то новое&nbsp;— нужно пробовать подвести под это решение уже реализованные проекты или понимать, где оно пригодится в&nbsp;будущем. Только тогда UI&nbsp;Kit не&nbsp;расползется и&nbsp;консистентность портфеля продуктов сохранится. А&nbsp;значит сохранятся и&nbsp;удобство развития этих продуктов, их&nbsp;комфортность для пользователя и&nbsp;положительный эффект для всего бренда.
